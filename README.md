# rabbitMQ
消息中间件 - rabbitMQ学习

涉及的要素：生产者、消费者、消息、交换器、队列、绑定、路由键
![rabbitmq](https://user-images.githubusercontent.com/23186519/164752902-41ce1989-9424-4c38-b45e-c611f4d2f71e.png)

消息的确认：消费者收到的每条消息都碧玺进行确认（自动确认和自行确认）

交换器类型：direct交换器、fanout交换器、topic交换器 header交换器

1、direct交换器，4中算法

生产者和消费者的而一般用法：发送到绑定的路由键

队列交换器的多重绑定：每个路由键均收到消息

一个连接多个信道：每个信道重复发送数据

一个队列多个消费者：轮询的方式发送数据，不会出现重复数据

2、fanout交换器：

fanout交换器和路由键没有关系，即使使用一个不存在的路由键也能收到消息

3、topic交换器

'#' 表示接收所有消息

'justin.#' 表示接收justin的所有消息

'justin.#.A' 表示接收justin下的A消息

'#.A' 表示接收所有关于A的消息

4、生产者 - 消息发布时的权衡

无保障

失败通知（发送消息时设置mandatory标志）

发布者确认（一般确认、批量确认、异步监听确认）

备用交换器(如果主交换器无法路由消息，那么消息将被路由到这个新的备用交换器)

高可用队列、

事务、

事务+高可用队列、

消息的持久化

5、消息消费的拒绝

Reject(单条消息处理) Nack (批量)

